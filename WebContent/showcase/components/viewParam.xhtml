<ui:composition template="/WEB-INF/templates/showcase.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
>
	<ui:define name="description">
		<p>
			The <code>&lt;o:viewParam&gt;</code> extends the standard <code>&lt;f:viewParam&gt;</code> and provides a
			stateless mode of operation. The standard <code>&lt;f:viewParam&gt;</code> implementation calls the model
			setter again after postback. This is not always desired when being bound to a view scoped beans and can 
			lead to performance problems when combined with an expensive converter. It also provides a default for the 
			<code>label</code> atrribute. When the <code>label</code> attribute is omitted, the <code>name</code>
			attribute will be used as label.
		</p>
		<p>
			If this page is requested by a non-Faces request without a parameter, it should display the message: <br/>
			"test: Validation Error: Value is required."
		</p>
		<p>
			Clicking the GET link initiates a new GET request with a parameter. Every time this
			request is issued, a converter runs that attaches an ever increasing number to the displayed
			value.
		</p>
		<p>
			Clicking the POST link initiates a POST-BACK request. This should not convert
			the value again and thus the number should not change. The POST-BACK should also
			not cause the required validation to be triggered.
		</p>
	</ui:define>

	<ui:define name="demo">
		<f:metadata>
			<o:viewParam id="test" name="test" value="#{viewParamBean.test}" required="true" converter="testConverter" />
		</f:metadata>

		<p>
			<b>The message: </b>
			<h:message for="test" />
		</p>

		<p>
			<b>The GET link: </b>
			<h:link value="Do GET request">
				<f:param name="test" value="foo"/>
			</h:link>
		</p>

		<p>
			<h:form>
				<b>The POST link: </b>
				<h:commandLink value="Do POST request" action="#{viewParamBean.action}" />
			</h:form>
		</p>
			
		<p>
			<b>The value: </b>
			#{viewParamBean.test}
		</p>
	</ui:define>

	<ui:define name="documentation">
		<ul>
			<li><a href="http://wiki.omnifaces.googlecode.com/hg/vdldoc/o/viewParam.html"><code>o:viewParam</code> VDL documentation</a></li>
			<li><a href="http://wiki.omnifaces.googlecode.com/hg/javadoc/org/omnifaces/component/viewparam/ViewParam.html"><code>ViewParam</code> API documentation</a></li>
			<li><a href="http://code.google.com/p/omnifaces/source/browse/src/org/omnifaces/component/viewparam/ViewParam.java"><code>ViewParam</code> source code</a></li>
		</ul>
	</ui:define>
</ui:composition>